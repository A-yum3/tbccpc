<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<title>TBC/CPC</title>
<link rel="stylesheet" href="css/normalize.css">
<link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
<link href="https://unpkg.com/nes.css/css/nes.css" rel="stylesheet">
<link href="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
<script type="text/javascript" src="js/script.js"></script>
<link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="nescss">
    <header :class="{ sticky: scrollPos > 50 }">
      <div class="container">
        <div class="nav-brand">
          <a href="">
          <h1><em class="snes-jp-logo"></em> TBC/CPC</h1>
          </a>
          <p>TBC きょうぎ　ぷろぐらみんぐ　さーくる</p>
        </div>
      </div>
    </header>
  </div>
  <!-- video -->
  <div class="bg-video-wrap">
    <video src="images/top.mp4" loop muted autoplay>
    </video>
    <div class="overlay">
    </div>
    <h1>
      TBC Competitive programming
    </h1>
    <button type="button" class="nes-btn is-primary btn" onClick="location.href='https://forms.gle/qF1DeMscXEo8SLa76'">JOIN US</button>
  </div>
  <!-- About -->
  <section class="topic">
    <h2 id="about">
      <a href="">#</a>
      なにを　するの？
    </h2>
    <p>パズルのような　もんだいを コードでとく<br>
      <a href="https://qiita.com/sifue/items/d582f3af426f524e5394">くわしくはこちら
    </p>
      <iframe src="//www.slideshare.net/slideshow/embed_code/key/50rIBQnbqfnCJE" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/cocodrips/pyconjp" title="強くなるためのプログラミング -プログラミングに関する様々なコンテストとそのはじめ方-#pyconjp" target="_blank">強くなるためのプログラミング -プログラミングに関する様々なコンテストとそのはじめ方-#pyconjp</a> </strong> from <strong><a href="https://www.slideshare.net/cocodrips" target="_blank">cocodrips</a></strong></div>
  </section>
  <!-- Future  -->
  <section class="topic">
    <div class="future-wrapper">
      <h2 id="future">
        <a href="">#</a>
        なにに　 役立つの？
      </h2>
      <div class="lists">
        <ul class="nes-list is-circle myul">
          <li>しゅうしょく　に 役立つ</li>
          <li>あたま　が　よくなる</li>
          <li>アルゴリズム　が まなべる</li>
          <li>しゅうにゅう　が　ふえる</li> 
       </ul>    
      </div>
  
    </div>

  </section>
  <!-- foryou -->
  <section class="topic">
    <h2 id="foryou">
      <a href="">#</a>
      さんか　すべき　ヒト
    </h2>
    <ul class="nes-list is-circle">
      <li>パズルが すき</li>
      <li>ぷろぐらまー　を　めざしている</li>
      <li>きゅうりょう　たくさん　ほしい</li>
    </ul>
  </section>
  <!-- activation -->
  <section class="topic">
    <h2 id="activation">
      <a href="">#</a>
      かつどうび
    </h2>
    <p>ほうかご（金曜日）・こんてすと（じしゅさんか）</p>
  </section>
  <!-- 就職採用サイト例 -->
  <section class="topic">
    <h2 id="userworksite">
      <a href="">#</a>
      さいよう　きぎょう　れい
    </h2>
    <ul class="nes-list is-circle">
      <li><a href="http://kumagi.hatenablog.com/entry/how-i-enter-google">Google</a></li>
      <li>リクルート</li>
      <li>ドワンゴ</li>
      <li>コロプラ</li>
      <li>サイバーエージェント</li>
      <li>etc...</li>
    </ul>
  </section>
      
  <!-- 使用コンテストサイトs-->
  <section class="topic">
    <h2 id="contests">
      <a href="">#</a>
      コンテストサイト
    </h2>
    <div class="nes-container contests-container">
      <div class="contests-wrapper">
        <div class="contests-box">
          <div class="contests-image">
            <a href="https://atcoder.jp/">
              <img class="contests-images" src="images/atcoder.png" alt="AtCoder">
              <p class="contests-text">
                AtCoder
              </p>
            </a>
            <p>まいしゅう　どようび　にちようび</p>
          </div>
        </div>
        <div class="contests-box">
          <div class="contests-image">
             <a href="https://yukicoder.me/">
              <img class="contests-images" src="images/yukicoder.jpg" alt="yukicoder">
              <p class="contests-text">
                yukicoder
              </p>
            </a>
            <p>ときどき　きんようび</p>
          </div>
        </div>
        <div class="contests-box">
          <div class="contests-image">
             <a href="https://codeforces.com/">
              <img class="contests-images" src="images/codeforce.png" alt="CodeForce">
              <p class="contests-text">
                CodeForce
              </p>
            </a>
            <p>ふていき</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="topic">
    <section class="message -left">
      <i class="nes-kirby"></i>
      <div class="nes-balloon from-left">
        <p>きょうみ　が あれば　だれでも　かんげい！</p>
      </div>
    </section>
    <button type="button" class="nes-btn is-primary" onClick="location.href='https://forms.gle/qF1DeMscXEo8SLa76'">Join us!</button>
  </section>
  <br>
  <section class="topic">
    <h2 id="ranking-head">
      <a href="">#</a>
      Ranking
    </h2>
    <!-- TODO: Rankingは人数が増えたら別ページに分離。その時の状況によってWebアプリ化も検討 -->
    <div id="ranking" class="nes-container contests-container">
    </div>
    <!-- JavaScriptの記述 -->
    <script>
      function loading_ranking(){
        var req = new XMLHttpRequest();
        req.onreadystatechange = function () {

          //通信が正常に終了したらtrue
          if (req.readyState == 4 && req.status == 200) {
            var data = req.responseText;

            //JSON形式に整形して分解
            data = data.slice(9);
            data = data.slice(0, -1);
            data = JSON.parse(data);

            //ID = ranking の末尾に追加していく
            for (var rank of data) {
              // 着色部、緑まで実装
              var color = "user-gray";
              if(rank.rate >= 800) {
                color = "user-green";
              } else if(rank.rate >= 400) {
                color = "user-brown";
              }
              var prize = "";
              if(rank.id == 1) {
                prize = "rank-one";
              } else if(rank.id == 2) {
                prize = "rank-two";
              } else if(rank.id == 3) {
                prize = "rank-three";
              } else {
                prize = "rank-none";
              }

              // rank.idは１位２位とかのこと
              ranking.insertAdjacentHTML('beforeend', "<div class=\"" + color + "\"><p class=" + prize + ">"  + rank.id + "位: <a href=\"https://atcoder.jp/users/" + rank.name + "\"><span>" + rank.name + "</span></a><br>Rate: <span>" + rank.rate + "</span></p><br></div>");
            }
          }
        }
        req.open("GET", "https://script.googleusercontent.com/macros/echo?user_content_key=lBE4g0hiF8pDfP8gbZl1tDh3K6KlYRGiSwKp0F1hTgkZwFLnxLkskI9DOZV3m75Xz0SbyJVACkzYoznKLpCokMXVaHjAD0Xzm5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnImwa1Ljh79acqiccorGlUWbajjEsXkHCqAy-VkcnHPegNifGoa4RSAhxke7gnniv5A9qcqyBKQ0&lib=MmJqW04Kw7Atw0OOQ1TKlpPhzGMXrOBqh", false);
        //今回はGETなので引数はnull
        req.send(null);
      }
      window.onload = loading_ranking;
    </script>
    <!-- ここは地獄だ、早く逃げろ -->
  </section>
  <footer class="footer">
  </footer>
</body>
</html>
